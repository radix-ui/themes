import { Section, Box, Flex, Button, Table, Text, Tooltip, Code, Callout, Combobox } from '@kushagradhawan/kookie-ui';
import { ArrowUpRightIcon, Search, Check } from 'lucide-react';
import ComboBoxPlayground from '../../playground/ComboBoxPlayground';
import { CodeBlock } from '../../components/code-block';

<Section size="2">

# Combobox

Use Combobox to combine dropdown selection with search functionality. Perfect for filterable lists, command palettes, and when users need to find options quickly. Combines the structure of Select with the power of search.

<Flex direction="row" gap="2" mt="6" justify="left" align="start">
  <Button
    size="1"
    variant="soft"
    color="gray"
    highContrast
    as="a"
    href="https://github.com/KushagraDhawan1997/kookie-ui/blob/main/packages/kookie-ui/src/components/combobox.tsx"
    target="_blank"
    rel="noopener noreferrer"
  > View source <ArrowUpRightIcon /> </Button>
</Flex>

</Section>

<Section size="2">

## Playground

<Box>
  <ComboBoxPlayground />
</Box>

</Section>

<Section size="2">

## Usage

<CodeBlock buttonsPosition="center">

```tsx
import { Combobox } from '@kushagradhawan/kookie-ui';
```

</CodeBlock>

</Section>

<Section size="2">

## Anatomy

Combobox is a compound component with the following parts:

<CodeBlock>

```tsx
<Combobox.Root>
  <Combobox.Trigger>
    <Combobox.Value />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input />
    <Combobox.List>
      <Combobox.Group>
        <Combobox.Label />
        <Combobox.Item />
      </Combobox.Group>
      <Combobox.Separator />
      <Combobox.Empty />
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## API Reference

### Root

Container component that manages state and context. All other Combobox components must be children of Root.

<Box>
  <Table.Root mt="6" my="6" size="2" variant="ghost" layout="fixed">
    <colgroup>
      <col style={{ width: '35%' }} />
      <col />
    </colgroup>
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell weight="medium">Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell weight="medium">Type</Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Combobox density: 1 (32px) for toolbars, 2 (40px) standard forms, 3 (48px) for prominent selections. Supports responsive objects">
            <span style={{ display: 'inline-block' }}>`size`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'1' | '2' | '3'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Maximum visibility mode for trigger and items">
            <span style={{ display: 'inline-block' }}>`highContrast`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Controlled selection value">
            <span style={{ display: 'inline-block' }}>`value`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string | null`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Initial selection value for uncontrolled usage">
            <span style={{ display: 'inline-block' }}>`defaultValue`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string | null`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Callback fired when selection changes">
            <span style={{ display: 'inline-block' }}>`onValueChange`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`(value: string | null) => void`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Controlled search input value">
            <span style={{ display: 'inline-block' }}>`searchValue`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Initial search value">
            <span style={{ display: 'inline-block' }}>`defaultSearchValue`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Callback fired when search changes">
            <span style={{ display: 'inline-block' }}>`onSearchValueChange`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`(value: string) => void`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Text shown when no option is selected">
            <span style={{ display: 'inline-block' }}>`placeholder`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Placeholder for search input">
            <span style={{ display: 'inline-block' }}>`searchPlaceholder`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Enable built-in fuzzy search">
            <span style={{ display: 'inline-block' }}>`shouldFilter`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Custom filter function">
            <span style={{ display: 'inline-block' }}>`filter`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`(value, search, keywords) => number`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Allow keyboard navigation to cycle">
            <span style={{ display: 'inline-block' }}>`loop`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Prevents all interaction">
            <span style={{ display: 'inline-block' }}>`disabled`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Controlled open state">
            <span style={{ display: 'inline-block' }}>`open`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Initial open state">
            <span style={{ display: 'inline-block' }}>`defaultOpen`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Callback fired when dropdown opens/closes">
            <span style={{ display: 'inline-block' }}>`onOpenChange`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`(open: boolean) => void`</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

### Trigger

Button that opens the dropdown. Supports all trigger variants, colors, and states.

<Box>
  <Table.Root mt="6" my="6" size="2" variant="ghost" layout="fixed">
    <colgroup>
      <col style={{ width: '35%' }} />
      <col />
    </colgroup>
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell weight="medium">Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell weight="medium">Type</Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Trigger button style">
            <span style={{ display: 'inline-block' }}>`variant`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'classic' | 'surface' | 'soft' | 'outline' | 'ghost'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Semantic color">
            <span style={{ display: 'inline-block' }}>`color`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`AccentColor`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Corner radius">
            <span style={{ display: 'inline-block' }}>`radius`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'none' | 'small' | 'medium' | 'large' | 'full'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Background appearance">
            <span style={{ display: 'inline-block' }}>`material`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'solid' | 'translucent'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Shows loading spinner">
            <span style={{ display: 'inline-block' }}>`loading`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Visual error state">
            <span style={{ display: 'inline-block' }}>`error`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Read-only state">
            <span style={{ display: 'inline-block' }}>`readOnly`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Trigger width">
            <span style={{ display: 'inline-block' }}>`width`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

Trigger supports margin props for spacing.

### Content

Dropdown surface containing the search input and list. Inherits size from Root.

<Box>
  <Table.Root mt="6" my="6" size="2" variant="ghost" layout="fixed">
    <colgroup>
      <col style={{ width: '35%' }} />
      <col />
    </colgroup>
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell weight="medium">Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell weight="medium">Type</Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Content surface style">
            <span style={{ display: 'inline-block' }}>`variant`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'solid' | 'soft'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Override size from Root">
            <span style={{ display: 'inline-block' }}>`size`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'1' | '2' | '3'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Semantic color">
            <span style={{ display: 'inline-block' }}>`color`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`AccentColor`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="High contrast mode">
            <span style={{ display: 'inline-block' }}>`highContrast`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`boolean`</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

### Input

Search field inside the Content. Automatically gets focus when dropdown opens.

<Box>
  <Table.Root mt="6" my="6" size="2" variant="ghost" layout="fixed">
    <colgroup>
      <col style={{ width: '35%' }} />
      <col />
    </colgroup>
    <Table.Header>
      <Table.Row>
        <Table.ColumnHeaderCell weight="medium">Prop</Table.ColumnHeaderCell>
        <Table.ColumnHeaderCell weight="medium">Type</Table.ColumnHeaderCell>
      </Table.Row>
    </Table.Header>
    <Table.Body>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Input field style">
            <span style={{ display: 'inline-block' }}>`variant`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`'classic' | 'surface' | 'soft' | 'outline' | 'ghost'`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Placeholder text">
            <span style={{ display: 'inline-block' }}>`placeholder`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`string`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Icon or element before input">
            <span style={{ display: 'inline-block' }}>`startAdornment`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`ReactNode`</Table.Cell>
      </Table.Row>
      <Table.Row>
        <Table.RowHeaderCell>
          <Tooltip content="Icon or element after input">
            <span style={{ display: 'inline-block' }}>`endAdornment`</span>
          </Tooltip>
        </Table.RowHeaderCell>
        <Table.Cell>`ReactNode`</Table.Cell>
      </Table.Row>
    </Table.Body>
  </Table.Root>
</Box>

### Other Components

- **`Combobox.Value`** - Displays selected value or placeholder
- **`Combobox.List`** - Container for items
- **`Combobox.Item`** - Selectable option
- **`Combobox.Group`** - Groups related items
- **`Combobox.Label`** - Group label
- **`Combobox.Separator`** - Visual separator
- **`Combobox.Empty`** - Shown when no results match

</Section>

<Section size="2">

## Trigger Variants

Use the `variant` prop on Trigger to set button style. Choose variants that match your surrounding form controls.

### Classic

Elevated style with subtle shadow for maximum visual impact.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="classic">
          <Combobox.Value placeholder="Select option" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="classic">
    <Combobox.Value placeholder="Select option" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
      <Combobox.Item value="2">Option 2</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

### Surface

Elevated surface style for standard form fields.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Select option" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="surface">
    <Combobox.Value placeholder="Select option" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

### Soft

Subtle background for secondary selections.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="soft">
          <Combobox.Value placeholder="Select option" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="soft">
    <Combobox.Value placeholder="Select option" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

### Outline

Bordered style for clear field boundaries.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="outline">
          <Combobox.Value placeholder="Select option" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="outline">
    <Combobox.Value placeholder="Select option" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

### Ghost

Minimal style for utility controls.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="ghost">
          <Combobox.Value placeholder="Select option" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="ghost">
    <Combobox.Value placeholder="Select option" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Content Variants

Use the `variant` prop on Content to set the dropdown surface style.

### Solid

Default opaque background for standard dropdowns.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Solid content" />
        </Combobox.Trigger>
        <Combobox.Content variant="solid">
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="surface">
    <Combobox.Value placeholder="Solid content" />
  </Combobox.Trigger>
  <Combobox.Content variant="solid">
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

### Soft

Subtle background for content-heavy interfaces.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Soft content" />
        </Combobox.Trigger>
        <Combobox.Content variant="soft">
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="surface">
    <Combobox.Value placeholder="Soft content" />
  </Combobox.Trigger>
  <Combobox.Content variant="soft">
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Input Variants

Use the `variant` prop on Input to style the search field. Defaults to `surface` for solid Content and `soft` for soft Content.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" wrap="wrap" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Custom input" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input variant="soft" placeholder="Search with soft variant..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
            <Combobox.Item value="3">Option 3</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="surface">
    <Combobox.Value placeholder="Custom input" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input variant="soft" placeholder="Search..." />
    <Combobox.List>
      <Combobox.Item value="1">Option 1</Combobox.Item>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Sizes

Set `size` on Root to control density. Affects trigger height and content padding. Supports responsive objects.

<CodeBlock
  buttonsPosition="center"
  preview={
    <Flex gap="2" align="center" wrap="wrap">
      <Combobox.Root size="1">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Size 1" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Size 2" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
      <Combobox.Root size="3">
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Size 3" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
            <Combobox.Item value="2">Option 2</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="1">  {/* 32px - toolbars */}
<Combobox.Root size="2">  {/* 40px - standard */}
<Combobox.Root size="3">  {/* 48px - prominent */}
```

</CodeBlock>

</Section>

<Section size="2">

## Colors

Use the `color` prop on Root or Trigger for semantic colors. Use `highContrast` on Root for maximum visibility.

<CodeBlock
  preview={
    <Flex gap="2" align="center">
      <Combobox.Root size="2" color="crimson">
        <Combobox.Trigger variant="soft">
          <Combobox.Value placeholder="Select priority" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="high">High Priority</Combobox.Item>
            <Combobox.Item value="medium">Medium Priority</Combobox.Item>
            <Combobox.Item value="low">Low Priority</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
      <Combobox.Root size="2" color="crimson" highContrast>
        <Combobox.Trigger variant="soft">
          <Combobox.Value placeholder="High contrast" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="high">High Priority</Combobox.Item>
            <Combobox.Item value="medium">Medium Priority</Combobox.Item>
            <Combobox.Item value="low">Low Priority</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2" color="crimson">
  {/* Trigger and items get crimson color */}
</Combobox.Root>

<Combobox.Root size="2" color="crimson" highContrast>
  {/* Maximum visibility mode */}
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## States

### Loading

Set `loading` on Trigger to show a spinner during async operations.

<CodeBlock
  preview={
    <Flex gap="2" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface" loading>
          <Combobox.Value placeholder="Loading..." />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Trigger variant="surface" loading>
  <Combobox.Value placeholder="Loading..." />
</Combobox.Trigger>
```

</CodeBlock>

### Disabled

Set `disabled` on Root to prevent all interaction.

<CodeBlock
  preview={
    <Flex gap="2" align="center">
      <Combobox.Root size="2" disabled>
        <Combobox.Trigger variant="surface">
          <Combobox.Value placeholder="Disabled" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Root size="2" disabled>
  {/* Entire combobox is disabled */}
</Combobox.Root>
```

</CodeBlock>

### Error

Use `error` on Trigger to indicate validation failures.

<CodeBlock
  preview={
    <Flex gap="2" align="center">
      <Combobox.Root size="2">
        <Combobox.Trigger variant="surface" error>
          <Combobox.Value placeholder="Invalid selection" />
        </Combobox.Trigger>
        <Combobox.Content>
          <Combobox.Input placeholder="Search..." />
          <Combobox.List>
            <Combobox.Item value="1">Option 1</Combobox.Item>
          </Combobox.List>
        </Combobox.Content>
      </Combobox.Root>
    </Flex>
  }
>

```tsx
<Combobox.Trigger variant="surface" error>
  <Combobox.Value placeholder="Invalid" />
</Combobox.Trigger>
```

</CodeBlock>

</Section>

<Section size="2">

## Groups and Labels

Organize options with groups and labels for better scannability.

<CodeBlock>

```tsx
<Combobox.Root size="2">
  <Combobox.Trigger variant="surface">
    <Combobox.Value placeholder="Select framework" />
  </Combobox.Trigger>
  <Combobox.Content>
    <Combobox.Input placeholder="Search..." />
    <Combobox.List>
      <Combobox.Group>
        <Combobox.Label>React Ecosystem</Combobox.Label>
        <Combobox.Item value="react">React</Combobox.Item>
        <Combobox.Item value="next">Next.js</Combobox.Item>
      </Combobox.Group>
      <Combobox.Separator />
      <Combobox.Group>
        <Combobox.Label>Vue Ecosystem</Combobox.Label>
        <Combobox.Item value="vue">Vue</Combobox.Item>
        <Combobox.Item value="nuxt">Nuxt</Combobox.Item>
      </Combobox.Group>
    </Combobox.List>
  </Combobox.Content>
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Custom Filtering

Control search with `shouldFilter` and `filter` props on Root.

### Disable Filtering

For async/server-side search:

<CodeBlock>

```tsx
function AsyncCombobox() {
  const [searchValue, setSearchValue] = React.useState('');
  const [options, setOptions] = React.useState([]);

  React.useEffect(() => {
    fetchOptions(searchValue).then(setOptions);
  }, [searchValue]);

  return (
    <Combobox.Root
      size="2"
      shouldFilter={false}
      searchValue={searchValue}
      onSearchValueChange={setSearchValue}
    >
      {/* ... */}
    </Combobox.Root>
  );
}
```

</CodeBlock>

### Custom Filter

Provide custom ranking logic:

<CodeBlock>

```tsx
const customFilter = (value: string, search: string, keywords?: string[]) => {
  const searchLower = search.toLowerCase();
  const valueLower = value.toLowerCase();
  
  if (valueLower.startsWith(searchLower)) return 1;
  if (valueLower.includes(searchLower)) return 0.5;
  
  return 0;
};

<Combobox.Root size="2" filter={customFilter}>
  {/* ... */}
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Empty State

Use `Combobox.Empty` for helpful feedback when no results match.

<CodeBlock>

```tsx
<Combobox.List>
  <Combobox.Item value="react">React</Combobox.Item>
  <Combobox.Item value="vue">Vue</Combobox.Item>
  <Combobox.Empty>
    <Flex direction="column" gap="1" py="3" align="center">
      <Text size="2" weight="medium">No options found</Text>
      <Text size="1" color="gray">Try a different search</Text>
    </Flex>
  </Combobox.Empty>
</Combobox.List>
```

</CodeBlock>

</Section>

<Section size="2">

## Responsive

Use responsive objects with `size` on Root.

<CodeBlock>

```tsx
<Combobox.Root size={{ initial: '1', sm: '2', md: '3' }}>
  {/* Adapts to breakpoints */}
</Combobox.Root>
```

</CodeBlock>

</Section>

<Section size="2">

## Accessibility

Built on cmdk and Radix Popover with comprehensive keyboard support.

### Keyboard Navigation

- **Space/Enter** - Open dropdown
- **Type** - Filter options
- **Arrow Up/Down** - Navigate
- **Enter** - Select
- **Escape** - Close
- **Tab** - Close and move focus

### ARIA

- `aria-expanded` - Dropdown state
- `aria-haspopup="listbox"` - Announces behavior
- `aria-disabled` - Disabled state
- `role="combobox"` - Semantic role

</Section>

<Section size="2">

## Design Guidelines

### When to Use

- Filterable lists (7+ options)
- Command palettes
- Autocomplete
- Large datasets

### When Not to Use

- Few options (use Select)
- All options visible (use Radio Group)
- Multi-select (use different component)

### Best Practices

**Do:**
- Match trigger variant to surrounding inputs
- Use groups for 10+ items
- Provide helpful empty states
- Use size 2-3 for mobile

**Don't:**
- Mix variants in same form
- Use size 1 on mobile
- Create 1-2 item groups
- Use ghost in forms needing boundaries

</Section>

<Section size="2">

## Changelog

- **Added**
  - Initial Combobox with search and filter
  - Trigger variants: classic, surface, soft, outline, ghost
  - Content variants: solid, soft
  - Three sizes (1, 2, 3)
  - Built-in fuzzy search (cmdk)
  - Custom filter support
  - Groups, labels, separators
  - Loading, error, disabled states
  - Empty state support
  - Responsive sizing
  - Material prop
  - Color and highContrast on Root
  - Margin props
  - Full keyboard navigation
  - RTL support
  - High contrast mode
  - Reduced motion support

</Section>
