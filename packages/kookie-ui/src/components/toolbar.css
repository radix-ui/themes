/* stylelint-disable selector-max-specificity */
/* Toolbar Component */

.rt-Toolbar {
  position: absolute;
  z-index: 1;

  /* --rt-toolbar-height and --rt-toolbar-width are set on parent element via JS */
  /* Use pt/pb/pl/pr="var(--rt-toolbar-height)" on content to avoid overlap */
}

/* Grid layout for true centering */
.rt-ToolbarInner {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  width: 100%;
  height: 100%;
  gap: var(--space-2);
}

/* Vertical toolbars use row-based grid */
.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarInner {
  grid-template-columns: 1fr;
  grid-template-rows: 1fr auto 1fr;
}

.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarLeft {
  grid-column: 1;
  grid-row: 1;
}

.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarCenter {
  grid-column: 1;
  grid-row: 2;
}

.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarRight {
  grid-column: 1;
  grid-row: 3;
}

/* * * * * * * * * * * * * * * * * * * */
/*                                     */
/*           Anchor positions          */
/*                                     */
/* * * * * * * * * * * * * * * * * * * */

.rt-Toolbar:where([data-anchor='top']) {
  top: 0;
  left: 0;
  right: 0;
}

.rt-Toolbar:where([data-anchor='bottom']) {
  bottom: 0;
  left: 0;
  right: 0;
}

.rt-Toolbar:where([data-anchor='left']) {
  top: 0;
  bottom: 0;
  left: 0;
}

.rt-Toolbar:where([data-anchor='right']) {
  top: 0;
  bottom: 0;
  right: 0;
}

/* * * * * * * * * * * * * * * * * * * */
/*                                     */
/*          Inset mode (default)       */
/*          Edge-to-edge positioning   */
/*                                     */
/* * * * * * * * * * * * * * * * * * * */

/* Remove border-radius in inset mode */
.rt-Toolbar:where(:not([data-floating])) {
  --base-card-border-radius: 0;
  border-radius: 0;
}

/* Override Card's box-shadow to only show exposed edge */
/* Top anchor: only show bottom border */
.rt-Toolbar:where([data-anchor='top']:not([data-floating])) {
  &::after {
    box-shadow: inset 0 -1px 0 0 var(--gray-6);
  }
  :where([data-panel-background='translucent'], [data-material='translucent']) &::after,
  &:where([data-panel-background='translucent'], [data-material='translucent'])::after {
    box-shadow: inset 0 -1px 0 0 var(--gray-a6);
  }
}

/* Bottom anchor: only show top border */
.rt-Toolbar:where([data-anchor='bottom']:not([data-floating])) {
  &::after {
    box-shadow: inset 0 1px 0 0 var(--gray-6);
  }
  :where([data-panel-background='translucent'], [data-material='translucent']) &::after,
  &:where([data-panel-background='translucent'], [data-material='translucent'])::after {
    box-shadow: inset 0 1px 0 0 var(--gray-a6);
  }
}

/* Left anchor: only show right border */
.rt-Toolbar:where([data-anchor='left']:not([data-floating])) {
  &::after {
    box-shadow: inset -1px 0 0 0 var(--gray-6);
  }
  :where([data-panel-background='translucent'], [data-material='translucent']) &::after,
  &:where([data-panel-background='translucent'], [data-material='translucent'])::after {
    box-shadow: inset -1px 0 0 0 var(--gray-a6);
  }
}

/* Right anchor: only show left border */
.rt-Toolbar:where([data-anchor='right']:not([data-floating])) {
  &::after {
    box-shadow: inset 1px 0 0 0 var(--gray-6);
  }
  :where([data-panel-background='translucent'], [data-material='translucent']) &::after,
  &:where([data-panel-background='translucent'], [data-material='translucent'])::after {
    box-shadow: inset 1px 0 0 0 var(--gray-a6);
  }
}

/* Ghost variant in normal mode has no border */
.rt-Toolbar:where(.rt-variant-ghost:not([data-floating]))::after {
  box-shadow: none;
}

/* Soft variant in normal mode has no border */
.rt-Toolbar:where(.rt-variant-soft:not([data-floating]))::after {
  box-shadow: none;
}

/* * * * * * * * * * * * * * * * * * * */
/*                                     */
/*            Floating mode            */
/*            Full card treatment      */
/*                                     */
/* * * * * * * * * * * * * * * * * * * */

/* Floating mode: margin controlled via offset prop in JS */
/* Inherits Card's border-radius (not overridden like inset mode) */

/* * * * * * * * * * * * * * * * * * * */
/*                                     */
/*           Title truncation          */
/*                                     */
/* * * * * * * * * * * * * * * * * * * */

.rt-ToolbarTitle {
  /* Ensure title can truncate within flex container */
  min-width: 0;
  flex-shrink: 1;
}

/* * * * * * * * * * * * * * * * * * * */
/*                                     */
/*         Section alignment           */
/*                                     */
/* * * * * * * * * * * * * * * * * * * */

.rt-ToolbarSection {
  min-width: 0;
}

.rt-ToolbarLeft {
  grid-column: 1;
  justify-self: start;
}

.rt-ToolbarCenter {
  grid-column: 2;
  justify-self: center;
}

/* Ensure Right always stays in the right column */
.rt-ToolbarRight {
  grid-column: 3;
  justify-self: end;
}

/* Vertical toolbar section alignment */
.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarLeft {
  align-self: start;
  justify-self: center;
}

.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarCenter {
  align-self: center;
  justify-self: center;
}

.rt-Toolbar:where([data-anchor='left'], [data-anchor='right']) .rt-ToolbarRight {
  align-self: end;
  justify-self: center;
}
