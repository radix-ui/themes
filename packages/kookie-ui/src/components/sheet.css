:where(.rt-SheetContent) {
  position: fixed !important;
  /* Use physical properties to integrate with width/height responsive utilities */
  width: var(--width, 90vw);
  max-width: var(--max-width, 100vw);
  height: 100vh;
  max-height: 100vh;
  margin: 0 !important;
  border-radius: 0 !important;
  will-change: transform;
}

/* iOS dynamic viewport height - accounts for browser chrome */
@supports (height: 100dvh) {
  :where(.rt-SheetContent) {
    height: 100dvh;
    max-height: 100dvh;
  }
}

/* Logical side anchoring (RTL-aware via logical inset) */
:where(.rt-SheetContent[data-side='start']) {
  inset-block: 0 !important;
  inset-inline-start: 0 !important;
  margin: 0 !important;
  border-start-start-radius: 0;
  border-end-start-radius: 0;
  /* iOS safe area for home indicator */
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
:where(.rt-SheetContent[data-side='end']) {
  inset-block: 0 !important;
  inset-inline-end: 0 !important;
  margin: 0 !important;
  border-start-end-radius: 0;
  border-end-end-radius: 0;
  /* iOS safe area for home indicator */
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
:where(.rt-SheetContent[data-side='top']) {
  inset-block-start: 0 !important;
  inset-inline: 0 !important;
  width: auto;
  max-width: none;
  height: var(--height, 75vh);
  margin: 0 !important;
  border-start-start-radius: 0;
  border-start-end-radius: 0;
}
:where(.rt-SheetContent[data-side='bottom']) {
  inset-block-end: 0 !important;
  inset-inline: 0 !important;
  width: auto;
  max-width: none;
  height: var(--height, 75vh);
  margin: 0 !important;
  border-end-start-radius: 0;
  border-end-end-radius: 0;
}

/* Overlay adjustments: avoid double-fade jank from base dialog */
.rt-SheetOverlay::before {
  backdrop-filter: var(--backdrop-filter-components) !important;
}

/* Safari backdrop-filter fallback */
@supports not (backdrop-filter: blur(1px)) {
  .rt-SheetOverlay::before {
    backdrop-filter: none !important;
  }
}

@media (prefers-reduced-motion: no-preference) {
  /* Override base dialog animations specifically for Sheet */
  .rt-SheetContent:where([data-state='open']) {
    animation-duration: var(--motion-duration-medium);
    animation-timing-function: var(--motion-spring-snappy);
    animation-fill-mode: both;
  }
  .rt-SheetContent:where([data-state='closed']) {
    /* Keep visible to allow reverse slide-out */
    opacity: 1;
    animation-duration: var(--motion-duration-small);
    animation-timing-function: var(--motion-spring-snappy);
    animation-fill-mode: both;
  }

  .rt-SheetContent:where([data-state='open'][data-side='start']) {
    /* OPEN: slide first (no fade yet) */
    animation-name: rt-sheet-open-from-start !important;
  }
  .rt-SheetContent:where([data-state='closed'][data-side='start']) {
    /* CLOSED: delay slide until content fade-out finishes */
    animation-name: rt-sheet-close-to-start !important;
    animation-delay: var(--motion-duration-small);
  }

  .rt-SheetContent:where([data-state='open'][data-side='end']) {
    animation-name: rt-sheet-open-from-end !important;
  }
  .rt-SheetContent:where([data-state='closed'][data-side='end']) {
    animation-name: rt-sheet-close-to-end !important;
    animation-delay: var(--motion-duration-small);
  }

  .rt-SheetContent:where([data-state='open'][data-side='top']) {
    animation-name: rt-sheet-open-from-top !important;
  }
  .rt-SheetContent:where([data-state='closed'][data-side='top']) {
    animation-name: rt-sheet-close-to-top !important;
    animation-delay: var(--motion-duration-small);
  }

  .rt-SheetContent:where([data-state='open'][data-side='bottom']) {
    animation-name: rt-sheet-open-from-bottom !important;
  }
  .rt-SheetContent:where([data-state='closed'][data-side='bottom']) {
    animation-name: rt-sheet-close-to-bottom !important;
    animation-delay: var(--motion-duration-small);
  }

  /* OPEN: fade in inner content after slide completes */
  .rt-SheetContent:where([data-state='open']) > * {
    opacity: 0;
    animation: rt-fade-in var(--motion-duration-small) var(--motion-spring-snappy) both;
    animation-delay: var(--motion-duration-medium);
  }

  /* CLOSED: fade out inner content immediately, then container slides */
  .rt-SheetContent:where([data-state='closed']) > * {
    animation: rt-fade-out var(--motion-duration-small) var(--motion-spring-snappy) both;
  }
}

@media (prefers-reduced-motion: reduce) {
  .rt-SheetContent {
    animation: none !important;
  }
  .rt-SheetContent > * {
    animation: none !important;
  }
}
